<!DOCTYPE html>
<html>
<head>
    <title>Generate PWA Icons</title>
    <style>
        body { font-family: system-ui; padding: 20px; background: #1a1a1a; color: #fff; }
        canvas { border: 1px solid #333; margin: 10px; background: #000; }
        .icons { display: flex; flex-wrap: wrap; gap: 20px; }
        .icon-item { text-align: center; }
        a { color: #e74c3c; display: inline-block; margin-top: 5px; }
        button { background: #e74c3c; color: white; border: none; padding: 8px 16px; border-radius: 8px; cursor: pointer; margin-top: 5px; }
    </style>
</head>
<body>
    <h1>PWA Icon Generator - Film Reel</h1>
    <p>Click "Download" under each icon to save it.</p>
    <div class="icons" id="icons"></div>

    <script>
        const sizes = [180, 192, 512];

        function drawFilmReel(ctx, size) {
            const s = size;
            const pad = s * 0.1;

            // Background
            ctx.fillStyle = '#1a1a1a';
            ctx.fillRect(0, 0, s, s);

            // Film strip
            const stripX = s * 0.2;
            const stripW = s * 0.6;

            // Film base (dark brown/black)
            ctx.fillStyle = '#2a2a2a';
            ctx.fillRect(stripX, 0, stripW, s);

            // Perforations (left side)
            const perfW = s * 0.06;
            const perfH = s * 0.08;
            const perfGap = s * 0.12;
            const perfMargin = s * 0.04;

            ctx.fillStyle = '#1a1a1a';
            for (let i = 0; i < 7; i++) {
                const y = s * 0.06 + i * perfGap;
                // Left perforations
                ctx.beginPath();
                ctx.roundRect(stripX + perfMargin, y, perfW, perfH, s * 0.015);
                ctx.fill();
                // Right perforations
                ctx.beginPath();
                ctx.roundRect(stripX + stripW - perfMargin - perfW, y, perfW, perfH, s * 0.015);
                ctx.fill();
            }

            // Film frames (exposed areas)
            const frameX = stripX + s * 0.14;
            const frameW = stripW - s * 0.28;
            const frameH = s * 0.22;

            // Frame 1 (top) - with gradient
            const grad1 = ctx.createLinearGradient(frameX, s * 0.12, frameX + frameW, s * 0.12 + frameH);
            grad1.addColorStop(0, '#e74c3c');
            grad1.addColorStop(1, '#c0392b');
            ctx.fillStyle = grad1;
            ctx.beginPath();
            ctx.roundRect(frameX, s * 0.12, frameW, frameH, s * 0.02);
            ctx.fill();

            // Frame 2 (middle) - lighter
            const grad2 = ctx.createLinearGradient(frameX, s * 0.39, frameX + frameW, s * 0.39 + frameH);
            grad2.addColorStop(0, '#f39c12');
            grad2.addColorStop(1, '#d68910');
            ctx.fillStyle = grad2;
            ctx.beginPath();
            ctx.roundRect(frameX, s * 0.39, frameW, frameH, s * 0.02);
            ctx.fill();

            // Frame 3 (bottom)
            const grad3 = ctx.createLinearGradient(frameX, s * 0.66, frameX + frameW, s * 0.66 + frameH);
            grad3.addColorStop(0, '#3498db');
            grad3.addColorStop(1, '#2980b9');
            ctx.fillStyle = grad3;
            ctx.beginPath();
            ctx.roundRect(frameX, s * 0.66, frameW, frameH, s * 0.02);
            ctx.fill();
        }

        const container = document.getElementById('icons');

        sizes.forEach(size => {
            const div = document.createElement('div');
            div.className = 'icon-item';

            const canvas = document.createElement('canvas');
            canvas.width = size;
            canvas.height = size;
            const ctx = canvas.getContext('2d');

            drawFilmReel(ctx, size);

            const label = document.createElement('p');
            const filename = size === 180 ? 'apple-touch-icon.png' : `icon-${size}.png`;
            label.textContent = filename;

            const btn = document.createElement('button');
            btn.textContent = 'Download';
            btn.onclick = () => {
                const link = document.createElement('a');
                link.download = filename;
                link.href = canvas.toDataURL('image/png');
                link.click();
            };

            div.appendChild(canvas);
            div.appendChild(label);
            div.appendChild(btn);
            container.appendChild(div);
        });
    </script>
</body>
</html>
